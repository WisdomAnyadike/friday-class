<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <section class="vh-100" style="background-color: #2779e2;">
        <div class="container h-100">
            <div class="row d-flex justify-content-center align-items-center h-100">
                <div class="col-xl-9">

                    <h1 class="text-white mb-4"> post a blog
                    </h1>

                    <div class="card" style="border-radius: 15px;">
                        <div class="card-body">

                            <div class="row align-items-center pt-4 pb-3">
                                <div class="col-md-3 ps-5">

                                    <h6 class="mb-0">Full name</h6>

                                </div>
                                <div class="col-md-9 pe-5">

                                    <input id="fullname" type="text" class="form-control form-control-lg" />

                                </div>
                            </div>

                            <hr class="mx-n3">

                            <div class="row align-items-center py-3">
                                <div class="col-md-3 ps-5">

                                    <h6 class="mb-0">Email address</h6>

                                </div>
                                <div class="col-md-9 pe-5">

                                    <input id="address" type="email" class="form-control form-control-lg"
                                        placeholder="example@example.com" />

                                </div>
                            </div>

                            <hr class="mx-n3">

                            <div class="row align-items-center py-3">
                                <div class="col-md-3 ps-5">

                                    <h6 class="mb-0">blog comment </h6>

                                </div>
                                <div class="col-md-9 pe-5">

                                    <textarea id="blogComment" class="form-control" rows="3"
                                        placeholder="Message sent to the employer"></textarea>

                                </div>
                            </div>

                            <hr class="mx-n3">

                            <div class="row align-items-center py-3">
                                <div class="col-md-3 ps-5">

                                    <h6 class="mb-0">Upload picture</h6>

                                </div>
                                <div class="col-md-9 pe-5">

                                    <input onchange="readFile()" class="form-control form-control-lg" id="formFileLg"
                                        type="file" accept=".png" />

                                    <img src="">

                                </div>
                            </div>

                            <hr class="mx-n3">

                            <div class="px-5 py-4">
                                <button type="button" onclick="sendBlog()" class="btn btn-primary btn-lg">Send blog post
                                </button>
                            </div>

                        </div>
                    </div>

                </div>
            </div>
        </div>


        
    </section>
</body>

</html>
<script src="	https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"> </script>
<script>
    'use strict'

    let blogSection = document.getElementById('blogSection')
    let blogPosts = JSON.parse(localStorage.getItem('blogPosts')) || []

    let image = localStorage.getItem('data') || ''


    function readFile() {
        let Myfile = document.getElementById('formFileLg')
        console.log(Myfile.files[0]);
        Myfile = Myfile.files[0]
        let reader = new FileReader()

        reader.addEventListener("load", (e) => {
            let data = e.target.result
            localStorage.setItem('data', data)
        })

        if (Myfile) {
            reader.readAsDataURL(Myfile)
        }
    }


    console.log();


    function sendBlog() {
        let fullname = document.getElementById('fullname')
        let address = document.getElementById('address')
        let blogComment = document.getElementById('blogComment')
        let date = new Date()

        let post = {
            name: fullname.value,
            address: address.value,
            blogComment: blogComment.value,
            liked: false,
            image: localStorage.getItem('data'),
            date:  date.toLocaleDateString()
        }

        console.log(post);
        blogPosts.push(post)
        localStorage.setItem('blogPosts', JSON.stringify(blogPosts))
        alert('blog posted successfully')


        console.log(blogPosts);
        fullname.value = ''
        address.value = ''
        blogComment.value = ''     
        localStorage.removeItem('data')
       
    }


    


   

  


    


</script>